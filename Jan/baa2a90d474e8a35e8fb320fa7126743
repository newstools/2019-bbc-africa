About 700 people survived an attack by gunmen on a compound of offices and a hotel in Kenya's capital. The siege, which began at 15:00 local time on Tuesday, lasted 19 hours. Here's how some of them escaped from the al-Shabab attackers: Two journalists working for national broadcaster NTV found themselves caught in the siege for more than 12 hours. "We are crammed inside the toilet with a number of guys," messaged reporter Silas Apollo to a WhatsApp group with other journalists while hiding. "I'm very scared." "They have been combing the building and shooting aimlessly. It's too scary to imagine," he posted on WhatsApp. They told Kenya's private Daily Nation newspaper that they, and at least 14 others trapped with them, had to change positions moving from the toilets - sometimes crawling, lying on the floor or standing - to the main hall. They were eventually rescued from their office block at 03:15 local time on Wednesday. Ronald Ng'eno was in his office where he worked as a communications officer for the Commission on Revenue Allocation when he heard "a massive blast followed by unending gunshots", he told AFP news agency. He and his colleagues tried to escape but realised the gunmen were already inside. "They started firing directly towards us and that was when we changed course and ran into the bathrooms located on first floor. Upon entering the bathroom I saw a small opening on the ceiling and that's where I hid momentarily," he told AFP. We were crammed in the bathroom and we had to be very quiet, he told the BBC. At around 19:00 local time, as gunfire was heard in the vicinity, Mr Ng'eno tweeted that he was still stuck in a bathroom: This was about five hours after the siege had begun. He then tweeted that his phone battery was about to die. Many replied, including two who gave information of the mobile phone number of the incident commander. His tweets had already attracted a lot of attention on Twitter as he had tweeted saying goodbye to his family should he die: He had been communicating with the police and, even though his phone had stopped working officers had arranged to use a special knock on the door to identify themselves. "At 2.30 am on Wednesday we heard the knock and we knew help had finally come," he told AFP. He walked out of the complex early on Wednesday morning after being trapped for more than 11 hours, he told the BBC. "It was just after serving food to the customers, then all of a sudden a bang outside the hotel," a waiter at the DusitD2 hotel, who asked to be called Charles, told the BBC OS radio programme on the World Service He, another colleague and a customer from the hotel escaped together. "The terrorists started shooting at the people. After that we started running. Everyone started running. "Some were running outside, some were hiding in the toilets. I managed to escape through the back door." He added that Kenyan security services were already at the scene when he escaped "and they helped us to manage to walk out". Tracy Wanjiru, who was caught up in the DusitD2 siege, also survived the attack on the Westgate Shopping Mall six years ago, reports Nairobi News site. In September 2013, al-Shabab gunmen entered the Nairobi mall and fired on shoppers, leading to a siege over four days in which 67 people were killed. "I was working there when the attackers stormed in, it was not easy just like today. All I can say is that I thank God," she told Nairobi News. She heard gunshots near where she worked as a manager of a hair salon within the DusitD2 hotel complex. She tried to look outside and then heard a loud explosion. "I jumped back to the salon, told my colleagues to be keen because we were under attack. They dismissed me at first but when they heard wails and screams, everyone went into hiding." She then called for help on Facebook: Later, at about 20:00 local time, five hours after the attack began, she went back to Facebook to tell her friends and family that she had survived: Hiram Macharia, a marketing executive at LG Electronics, told the Reuters news agency that after he heard the first explosion he tried to escape. "I grabbed a fire extinguisher and we started going downstairs. Then we saw two of the attackers firing at the elevators and we turned back. We hid under desks in our office," he told Reuters. "They were firing twice at each of the elevator doors and the two staircase doors on each floor as they walked up the building. One of them fired at our office doors, entered slightly and then moved on." Mr Macharia hid in his office, but one colleague ran to the roof and was shot dead there, he added. Bryson Mwamburi, a university student who was working at the Dusit complex, had just dodged a shooter's bullet and was scaling down an electric fence when he was arrested by police. A few hours earlier he had been in an office at the Grosvenor building when he heard a loud bang and what sounded like gunshots. He ran to the seventh floor, climbed out of a window and hid in a balcony. But a man on the ground spotted him and fired at him, so he ran to the fifth floor and then to the ground floor and used his shirt to scale an electric fence. He was then arrested by police positioned outside the complex. "I cried and told the police officers that I had been inside one of the buildings at the Dusit complex and there was a gunman who tried to kill me, but they still arrested me," he told the BBC. Mr Bryson said he was locked in a police cell and kept overnight, but he was eventually freed without charge on Wednesday morning. "A tweet I had sent before leaving the building saved my life and I was freed," he said. "Family and friends launched a campaign on social media after they discovered I was being unofficially held as a suspect." The entire ordeal was humbling, he said. Mamadou Dia was on a business trip from Paris for STP Consultants when he was caught up in the siege. He told the Reuters agency that he was huddled in a room with Chinese and Canadian residents of the hotel and a waiter when he was texted to say that police knew where he was hiding. "They told us by text that the police knew we were in that room and that they would come, and one-and-a-half hours later, the police came to evacuate us," he said. He added that the attackers started shooting at them "like snipers," as armed officers escorted them out. The police fired back, he said. Brian Gatimu, a tour operator based inside the office complex, was on the rooftop car park when he heard a huge bang. "I saw huge smoke billowing from the entrance," AFP reports Mr Gatimu as saying on Capital FM News. He said wasn't meant to be in the car park but he had left his lights one so his battery had run flat - and he was waiting for someone to come and jumpstart his car. He hid in his car for two hours, calling for help on Twitter, before police officers came to rescue him, he said. "My car is tinted. I stayed inside hoping all is well. I was shaken," he said. Reuben Kimani, a barista working at the hotel, told AFP that he recognised an attacker because he had served him coffee in the run-up to the assault. "I knew one of them because he had a big scar on one of his hands," he told AFP. "They shot six of my friends, four didn't die but two succumbed." He said the attackers yelled out, "Why are you killing our brothers and sisters in Somalia?" before opening fire. He was rescued after several hours trapped inside the hotel. Cyprian Otieno, a 23-year-old student, told AFP that he went to the Dusit complex because his friend wanted to get a cocktail. "All of a sudden we heard a weird boom followed by gunfire," he said, adding that security guards ordered everyone to get back He heard a voice shouting: "Kill them, kill them" in Swahili and more gunfire. A group of about 20 people then fled towards the back of the hotel, he said. "Sorry to say at that point it was every man for himself.  We were all together in the beginning but after a few minutes the attackers began shooting... I can't even really remember what happened afterwards." John Maingi said there had been "a flash of lights and a loud bang" at the Secret Garden restaurant where he worked. "When I peeped outside I saw a human leg, which has been cut off," he told AFP news agency. "We hid in the room and then some police officers rescued us."